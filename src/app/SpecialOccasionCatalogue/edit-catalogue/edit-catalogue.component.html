<div class="form-container">
  <form [formGroup]="editForm" (ngSubmit)="onSubmit()">
    
    <mat-form-field appearance="fill">
      <mat-label>Title</mat-label>
      <input matInput formControlName="catTitle" type="text">
      <mat-error *ngIf="editForm.get('catTitle')?.hasError('required')">
        Title is required
      </mat-error>
    </mat-form-field> <br>

    <mat-form-field appearance="fill">
      <mat-label>Description</mat-label>
      <textarea matInput formControlName="catDescription"></textarea>
    </mat-form-field> <br>

    <mat-form-field appearance="fill">
      <mat-label>Included Items</mat-label>
      <textarea matInput formControlName="includedItems"></textarea>
    </mat-form-field> <br>

    <mat-form-field appearance="fill">
      <mat-label>Start Date</mat-label>
      <input matInput formControlName="startDate" [matDatepicker]="startPicker">
      <mat-datepicker-toggle matSuffix [for]="startPicker"></mat-datepicker-toggle>
      <mat-datepicker #startPicker></mat-datepicker>
      <mat-error *ngIf="editForm.get('startDate')?.hasError('required')">
        Start date is required
      </mat-error>
    </mat-form-field> <br>

    <mat-form-field appearance="fill">
      <mat-label>End Date</mat-label>
      <input matInput formControlName="endDate" [matDatepicker]="endPicker">
      <mat-datepicker-toggle matSuffix [for]="endPicker"></mat-datepicker-toggle>
      <mat-datepicker #endPicker></mat-datepicker>
      <mat-error *ngIf="editForm.get('endDate')?.hasError('required')">
        End date is required
      </mat-error>
    </mat-form-field> <br>

    <mat-form-field appearance="fill">
      <mat-label>Occasion Type</mat-label>
      <mat-select formControlName="occasionTypeId">
        <mat-option *ngFor="let type of occasionTypes" [value]="type.occasionTypeId">
          {{ type.occasionTypeName }}
        </mat-option>
      </mat-select>
      <mat-error *ngIf="editForm.get('occasionTypeId')?.hasError('required')">
        Occasion type is required
      </mat-error>
    </mat-form-field> <br>

    <mat-form-field appearance="fill">
      <mat-label>Discount</mat-label>
      <mat-select formControlName="discountId">
        <mat-option *ngFor="let discount of discounts" [value]="discount.discountId">
          {{ discount.disName }} - {{ discount.disDescription }}
        </mat-option>
      </mat-select>
      <mat-error *ngIf="editForm.get('discountId')?.hasError('required')">
        Discount is required
      </mat-error>
    </mat-form-field> <br>

    <input type="file" (change)="onFileChange($event)">
    <br>
    <!-- Image preview -->
    <img *ngIf="onFileChange" [src]="catImage" alt="Selected Image" style="max-width: 200px; margin-top: 10px;">
    <br>

    <button mat-raised-button color="primary" type="submit" [disabled]="editForm.invalid">
      Update
    </button>
  </form>
</div>
