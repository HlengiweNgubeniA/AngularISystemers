<!-- <div class="container mt-5">
  <h2 class="text-center mb-4">Update Password</h2>
  <form [formGroup]="updatePasswordForm" (ngSubmit)="onSubmit()" class="mat-elevation-z4">
    
    <mat-card>
      <mat-card-content>

        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Current Password</mat-label>
          <input matInput type="password" formControlName="currentPassword" required />
          <mat-error *ngIf="updatePasswordForm.get('currentPassword')?.invalid && (updatePasswordForm.get('currentPassword')?.touched || updatePasswordForm.get('currentPassword')?.dirty)">
            Current password is required.
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="fill" class="full-width">
          <mat-label>New Password</mat-label>
          <input matInput type="password" formControlName="newPassword" required />
          <mat-error *ngIf="updatePasswordForm.get('newPassword')?.invalid && (updatePasswordForm.get('newPassword')?.touched || updatePasswordForm.get('newPassword')?.dirty)">
            New password is required (minimum 6 characters).
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Confirm New Password</mat-label>
          <input matInput type="password" formControlName="confirmPassword" required />
          <mat-error *ngIf="updatePasswordForm.errors?.['mismatch'] && (updatePasswordForm.get('confirmPassword')?.touched || updatePasswordForm.get('confirmPassword')?.dirty)">
            Passwords do not match.
          </mat-error>
        </mat-form-field>

        <button mat-raised-button color="primary" class="full-width" [disabled]="updatePasswordForm.invalid">Update Password</button>
        
      </mat-card-content>
    </mat-card>

  </form>
</div> -->
<div class="container mt-5">
  <h2 class="text-center mb-4">Update Password</h2>
  <form [formGroup]="updatePasswordForm" (ngSubmit)="onSubmit()" class="mat-elevation-z4">
    
    <mat-card>
      <mat-card-content>

        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Current Password</mat-label>
          <input matInput 
                 [type]="isCurrentPasswordVisible ? 'text' : 'password'" 
                 formControlName="currentPassword" required />
          <button mat-icon-button type="button" (click)="isCurrentPasswordVisible = !isCurrentPasswordVisible">
            <mat-icon>{{ isCurrentPasswordVisible ? 'visibility' : 'visibility_off' }}</mat-icon>
          </button>
          <mat-error *ngIf="updatePasswordForm.get('currentPassword')?.invalid && 
                            (updatePasswordForm.get('currentPassword')?.touched || 
                             updatePasswordForm.get('currentPassword')?.dirty)">
            Current password is required.
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="fill" class="full-width">
          <mat-label>New Password</mat-label>
          <input matInput 
                 [type]="isNewPasswordVisible ? 'text' : 'password'" 
                 formControlName="newPassword" required />
          <button mat-icon-button type="button" (click)="isNewPasswordVisible = !isNewPasswordVisible">
            <mat-icon>{{ isNewPasswordVisible ? 'visibility' : 'visibility_off' }}</mat-icon>
          </button>
          <mat-error *ngIf="updatePasswordForm.get('newPassword')?.invalid && 
                            (updatePasswordForm.get('newPassword')?.touched || 
                             updatePasswordForm.get('newPassword')?.dirty)">
            New password is required (minimum 6 characters).
          </mat-error>
          <mat-error *ngIf="updatePasswordForm.get('newPassword')?.errors?.['complexity']">
            Password must contain at least 1 uppercase letter, 1 lowercase letter, 1 number, and 1 special character.
          </mat-error>
          
        </mat-form-field>

        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Confirm New Password</mat-label>
          <input matInput 
                 [type]="isConfirmPasswordVisible ? 'text' : 'password'" 
                 formControlName="confirmPassword" required />
          <button mat-icon-button type="button" (click)="isConfirmPasswordVisible = !isConfirmPasswordVisible">
            <mat-icon>{{ isConfirmPasswordVisible ? 'visibility' : 'visibility_off' }}</mat-icon>
          </button>
          <mat-error *ngIf="updatePasswordForm.errors?.['mismatch'] && 
                            (updatePasswordForm.get('confirmPassword')?.touched || 
                             updatePasswordForm.get('confirmPassword')?.dirty)">
            Passwords do not match.
          </mat-error>
        </mat-form-field>

        <button mat-raised-button color="primary" class="full-width" [disabled]="updatePasswordForm.invalid">Update Password</button>
        
      </mat-card-content>
    </mat-card>

  </form>
</div>


